<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <script src="content\scripts\main.js"></script>
    <!-- Required meta tags -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <link href="css/common.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.typekit.net/ezy0lnf.css">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.typekit.net/ezy0lnf.css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-205853451-1">
    </script>

    <!-- Meta Pixel Code -->
    <script>
        !function (f, b, e, v, n, t, s) {
            if (f.fbq) return; n = f.fbq = function () {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
            n.queue = []; t = b.createElement(e); t.async = !0;
            t.src = v; s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '538218240860955');
        fbq('track', 'PageView');
    </script>

    <noscript>
        <img height="1" width="1" style="display:none"
             src="https://www.facebook.com/tr?id=538218240860955&ev=PageView&noscript=1" />
    </noscript>
    <!-- End Meta Pixel Code -->

    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-205853451-1');
    </script>

    <script type="text/javascript">
        adroll_adv_id = "H2JUWZ5IZNAVJPR7J7HSIX";
        adroll_pix_id = "67A3KGIUIJGU7FH4B5WBI6";
        adroll_version = "2.0";
        (function (w, d, e, o, a) {
            w.__adroll_loaded = true;
            w.adroll = w.adroll || [];
            w.adroll.f = ['setProperties', 'identify', 'track'];
            var roundtripUrl = "https://s.adroll.com/j/" + adroll_adv_id + "/roundtrip.js";
            for (a = 0; a < w.adroll.f.length; a++) { w.adroll[w.adroll.f[a]] = w.adroll[w.adroll.f[a]] || (function (n) { return function () { w.adroll.push([n, arguments]) } })(w.adroll.f[a]) } e = d.createElement('script');
            o = d.getElementsByTagName('script')[0];
            e.async = 1;
            e.src = roundtripUrl;
            o.parentNode.insertBefore(e, o);
        })(window, document);
        adroll.track("pageView");
    </script>

    <title>Application - Join our team</title>
</head>

<body>
    <div class="container">
        <h2>Job Application Form</h2>
        <form id="applicationForm">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" class="form-control" id="name" required>
            </div>
            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" class="form-control" id="address" required>
            </div>
            <div class="form-group">
                <label for="phone">Phone Number:</label>
                <input type="text" class="form-control" id="phone" required>
            </div>
            <div class="form-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" class="form-control" id="dob" required>
            </div>
            <div class="form-group">
                <label for="ssn">Social Security Number:</label>
                <input type="text" class="form-control" id="ssn" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" class="form-control" id="email" required>
            </div>
            <div class="form-group">
                <label for="resume">Resume:</label>
                <input type="file" class="form-control-file" id="resume">
            </div>
            <div class="form-group">
                <label for="coverLetter">Cover Letter:</label>
                <input type="file" class="form-control-file" id="coverLetter">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#applicationForm").submit(function (e) {
                e.preventDefault();
                var name = $("#name").val();
                var address = $("#address").val();
                var phone = $("#phone").val();
                var dob = $("#dob").val();
                var ssn = $("#ssn").val();
                var email = $("#email").val();

                var formData = new FormData();
                formData.append("name", name);
                formData.append("address", address);
                formData.append("phone", phone);
                formData.append("dob", dob);
                formData.append("ssn", ssn);
                formData.append("email", email);
                formData.append("resume", $("#resume")[0].files[0]);
                formData.append("coverLetter", $("#coverLetter")[0].files[0]);

                $.ajax({
                    url: "api/SubmitApplication",
                    type: "POST",
                    data: formData,
                    contentType: false,
                    processData: false,
                    success: function (response) {
                        alert("Application submitted successfully!");
                        // Do something with the response if needed
                    },
                    error: function (xhr, status, error) {
                        alert("Error occurred while submitting the application. Please try again later.");
                        // Handle the error if needed
                    }
                });
            });
        });
    </script>
</body>
</html>
